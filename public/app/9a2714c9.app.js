"use strict";angular.module("frontTestApp",["ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap","ngbGallery","toaster"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),c.html5Mode(!0)}]),angular.module("frontTestApp").service("imageService",["$http","$q",function(a,b){function c(b){var c=a({method:"post",url:"/assets/images/images",data:{title:"test",url:"http://cdn.playbuzz.com/cdn/cb7190c0-906c-4bfc-8725-2d308c40f60a/e0949af2-7ba9-4fe3-8d95-df5d15af0661.jpg",date:new Date}});return c.then(g,f)}function d(){var b=a({method:"get",url:"/app/images.json"});return b.then(g,f)}function e(b){var c=a({method:"delete",url:"api/images/"+b});return c.then(g,f)}function f(a){return angular.isObject(a.data)&&a.data.message?b.reject(a.data.message):b.reject("An unknown error occurred.")}function g(a){return a.data}return{addImage:c,getImages:d,removeImage:e}}]),angular.module("frontTestApp").controller("MainCtrl",["$scope","$http","imageService","toaster","$timeout",function(a,b,c,d,e){a.images=[],a.removeImage=function(a){c.removeImage(a._id).then(function(a){d.pop("success","Success","Image deleted successfully",2500)})["catch"](function(a){d.pop("error","Oops","An unknown error occurred.",2500),console.error("Gists error",a.status,a.data)})},c.getImages().then(function(b){0!==b.length&&(a.images=b)})["catch"](function(a){console.error("Gists error",a.status,a.data)})}]),angular.module("frontTestApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("ngbGallery",["ui.bootstrap"]).constant("GALLERY_CONFIG",{SEARCH_BOX:!0,ITEM_IN_PAGE:10,SORTING:!0,PAGINATION_BAR:!0,AUTO_ROTATE_TIME:4}).config(["$provide",function(a){a.decorator("orderByFilter",["$delegate",function(a){var b=a,c=function(a,b){b||(b="index");for(var c=0;c<a.length;++c)a[c][b]=c;return a},d=function(){var a=b.apply(this,arguments);return a=c(a,arguments[3])};return d}])}]).controller("ngbGalleryController",["$scope","$attrs","$http","$modal","GALLERY_CONFIG",function(a,b,c,d,e){a.filteredFeed=[],a.currentPage=1,a.maxSize=5,a.paginationBar=angular.isDefined(a.paginationBar)&&"boolean"==typeof a.paginationBar?a.paginationBar:e.PAGINATION_BAR,a.paginationBar&&(a.itemsInPage=angular.isDefined(a.itemsInPage)&&!isNaN(a.itemsInPage)?a.itemsInPage:e.ITEM_IN_PAGE),a.autoRotateTime=angular.isDefined(a.autoRotateTime)&&!isNaN(a.autoRotateTime)?a.autoRotateTime:e.AUTO_ROTATE_TIME,a.searchBox=angular.isDefined(a.searchBox)?a.searchBox:e.SEARCH_BOX,a.sorting=angular.isDefined(a.sorting)&&"boolean"==typeof a.sorting?a.sorting:e.SORTING,a.$watch("currentPage + itemsInPage + feed",function(){if(angular.isDefined(a.feed)&&a.feed.length>0)if(a.paginationBar){var b=(a.currentPage-1)*a.itemsInPage,c=b+a.itemsInPage;a.filteredFeed=a.feed.slice(b,c)}else a.filteredFeed=a.feed}),a.openImage=function(b){d.open({animation:!0,templateUrl:"components/gallery/src/templates/ngbGalleryModal.html",controller:"ngbGalleryModalController",windowClass:"gallery-modal-wrap",resolve:{images:function(){return a.filteredFeed},selectedImage:function(){return b},autoRotateTime:function(){return a.autoRotateTime}}})},a.removeImg=function(b){var c=a.feed.indexOf(b);a.feed.splice(c,1),c=a.filteredFeed.indexOf(b),a.filteredFeed.splice(c,1),angular.isDefined(a.onRemoveImg)&&"function"==typeof a.onRemoveImg&&a.onRemoveImg(b)}}]).directive("ngbGallery",function(){return{restrict:"E",controller:"ngbGalleryController",templateUrl:"components/gallery/src/templates/ngbGallery.html",replace:!0,scope:{feed:"=",searchBox:"=?",itemsInPage:"=?",sorting:"=?",paginationBar:"=?",autoRotateTime:"=?",onRemoveImg:"=?"}}}).controller("ngbGalleryModalController",["$scope","$modalInstance","images","selectedImage","autoRotateTime","$interval","$filter",function(a,b,c,d,e,f,g){function h(){i();var a=1e3*e;!isNaN(a)&&a>0&&(k=f(j,a))}function i(){k&&(f.cancel(k),k=null)}function j(){var b=1e3*e;a.isPlaying&&!isNaN(b)&&b>0?a.next():a.pause()}a.selectedImage=d,a.images=g("orderBy")(c,"index"),a.isPlaying=!1;var k,l=a.selectedImage.index;a.next=function(){l++,angular.isDefined(a.images[l])||(l=a.images[0].index),a.selectedImage=a.images[l]},a.prev=function(){l--,angular.isDefined(a.images[l])||(l=a.images[a.images.length-1].index),a.selectedImage=a.images[l]},a.play=function(){a.isPlaying||(a.isPlaying=!0,h())},a.pause=function(){a.noPause||(a.isPlaying=!1,i())},a.$watch("interval",h),a.$on("$destroy",i)}]),angular.module("frontTestApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("frontTestApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.menu=[{title:"Home",link:"/"}],a.isCollapsed=!0,a.isActive=function(a){return a===b.path()}}]),angular.module("frontTestApp").run(["$templateCache",function(a){a.put("app/main/main.html","<div class=container><toaster-container toaster-options=\"{'close-button':true, 'animation-class': 'toast-top-right'}\"></toaster-container><div class=row><div class=col-lg-12><ngb-gallery feed=images pagination-bar=true items-in-page=10 sorting=false auto-rotate-time=4></ngb-gallery></div></div></div><footer class=footer><div class=container><p><a href=#>My Gallery</a></p></div></footer>"),a.put("components/gallery/src/templates/ngbGallery.html",'<div id=galleryWrap><div class=container><div class="row action-bar"><div class="col-sm-12 col-md-3 padding-15"><div class=gallery-sort-input><div class=input-group><span class=input-group-btn><button class="btn btn-info" type=button><i class=glyphicon ng-class="sortReverse ? \'glyphicon-sort-by-attributes-alt\' : \'glyphicon-sort-by-attributes\'" ng-click="sortReverse = !sortReverse"></i></button></span> <span class=sorting-type ng-click="sortBy = \'title\'" ng-class="{activeSort: sortBy === \'title\'}">Title</span> <span class=sorting-type ng-click="sortBy = \'date\'" ng-class="{activeSort: sortBy === \'date\'}">Date</span></div></div></div><div class="col-sm-12 col-md-6"><div class="col-sm-8 col-md-10" ng-show=paginationBar><div class=center><pagination total-items=feed.length ng-model=currentPage max-size=maxSize class=pagination-sm items-per-page=itemsInPage rotate=false></pagination></div></div><div class="col-sm-4 col-md-2" ng-show=paginationBar><div class=center><div class="btn-group dd-input-wrap" dropdown is-open=status.isopen><button id=single-button class="btn btn-sm dd-input" type=button class="btn btn-primary" dropdown-toggle><span class=dd-text>{{itemsInPage}}</span> <span class=caret></span></button><ul class=dropdown-menu role=menu aria-labelledby=single-button><li role=menuitem ng-click="itemsInPage = 5"><a href=#>5</a></li><li role=menuitem ng-click="itemsInPage = 10"><a href=#>10</a></li><li role=menuitem ng-click="itemsInPage = 15"><a href=#>15</a></li><li role=menuitem ng-click="itemsInPage = 20"><a href=#>20</a></li></ul></div></div></div></div><div class="col-sm-12 col-md-3 padding-15" ng-show=searchBox><div class=gallery-search-input><div class=input-group><input class=form-control placeholder=Search ng-model="searchInput"> <span class=input-group-btn><button class="btn btn-info" type=button><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class=row><div class="col-xs-12 col-sm-6 col-md-6 col-lg-4 gallery-img padding-15" ng-class="{\'no-padding-left\': $even}" ng-repeat="image in filteredFeed | filter:searchInput | orderBy:sortBy:sortReverse:\'index\' track by $index"><div class=gallery-img ng-style="{\'background-image\':\'url(\' + image.url + \')\'}"><div class=img-layover><div class=fl-btn-wrap ng-class="{\'show\' : showSubBtns === true}"><div><button class=sub_fab_btn style=background-color:#DB4A39 ng-click=removeImg(image)><span class="fa fa-trash-o" style="color: #fffff"></span></button></div><div><button class=sub_fab_btn style=background-color:#3B5998 ng-click=openImage(image)><span class="fa fa-expand" style="color: #fffff"></span></button></div></div><button class=fl-btn-main ng-click="showSubBtns = !showSubBtns" ng-class="{\'rotate\': showSubBtns === true}"><span class="ink animate"></span> <i class="fa fa-bars" ng-show=!showSubBtns></i> <i class="fa fa-plus" ng-show="showSubBtns === true"></i></button><h5>{{image.title}}</h5><small>{{image.date | date : \'fullDate\'}}</small></div></div></div></div></div></div>'),a.put("components/gallery/src/templates/ngbGalleryModal.html",'<div id=imageModal><div class=modal-body><div class=gallery-img ng-style="{\'background-image\':\'url(\' + selectedImage.url + \')\'}"><div class=img-layover><div class=fl-btn-wrap ng-class="{\'show\' : showSubBtns === true}"><button class=sub_fab_btn ng-click=prev()><i class="glyphicon glyphicon-chevron-left"></i></button> <button ng-if=!isPlaying class=sub_fab_btn ng-click=play()><i class="glyphicon glyphicon-play"></i></button> <button ng-if=isPlaying class=sub_fab_btn style=background-color:#DB4A39 ng-click=pause()><i class="glyphicon glyphicon-pause"></i></button> <button class=sub_fab_btn ng-click=next()><i class="glyphicon glyphicon-chevron-right"></i></button></div><button class=fl-btn-main ng-click="showSubBtns = !showSubBtns" ng-class="{\'rotate\': showSubBtns === true}"><span class="ink animate"></span> <i class="fa fa-bars" ng-show=!showSubBtns></i> <i class="fa fa-plus" ng-show="showSubBtns === true"></i></button><h3>{{selectedImage.title}}</h3><h5>{{selectedImage.date | date : \'medium\'}}</h5></div></div><!--<i class="modal-nav glyphicon glyphicon-chevron-left" ng-class="index === 0 ? \'disable-nav\': \'\'" ng-click=\'prev()\'></i><center><img ng-src={{selectedImage.url}} fallback-src="http://www.suplugins.com/podium/images/placeholder-03.png" /></center><i class="modal-nav glyphicon glyphicon-chevron-right" ng-class="index === images.length ? \'disable-nav\': \'\'" ng-click=\'next()\'></i>--></div></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>front-test</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li></ul></div></div></div>')}]);
